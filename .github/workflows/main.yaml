name: Aws projects
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: ['push']
jobs:
  docker-build-job:
    runs-on: ubuntu-latest
    steps:
    - name: Check out repository code
      uses: actions/checkout@v4
    - name: login to aws ecr 
      run: aws ecr get-login-password --region us-west-1 | docker login --username AWS --password-stdin 026090544525.dkr.ecr.us-west-1.amazonaws.com
    - name: docker build  
      run: docker build -t nginx:v1
    - name: docker tag
      run: docker tag nginx:latest 026090544525.dkr.ecr.us-west-1.amazonaws.com/nginx:latest
    - name: docker push
      run: docker push 026090544525.dkr.ecr.us-west-1.amazonaws.com/nginx:latest